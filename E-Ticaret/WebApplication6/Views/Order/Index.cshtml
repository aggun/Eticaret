@using WebApplication6.Models.Entity
@model List<Order>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string status;
    string format;
    int i = 0;
}
<h1>@ViewBag.info</h1>
<h1>Index</h1>
<table class="table table-bordered">
    <tr>
        <th>Sıra</th>
        <th>Kullanıcı</th>
        <th>Alış Tarihi</th>
        <th>Ürün Adı</th>
        <th>Adet</th>
        <th>Banka</th>
        <th>Fiyat</th>
        <th>Durum</th>
        
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>@(i=i+1)</td>
            <td>@item.IdentityUser.Email</td>
            <td>@(((DateTime)item.OrderDate).ToString("dd-MMM-yyyy"))</td>
            <td>@item.Product.ProductName</td>
            <td>@item.ProducQuantity</td>
            <td>@item.Bank.BankName</td>
             <td>@item.OrderPrice</td>
            @if (item.OrderStatus == false)
            {
                status = "Siparişi Onayla";
                format = "btn btn-warning";
            }
            else
            {

                status = "Onaylı";
                format = "btn btn-success";
            }
            <td><a href="/Order/ChangeStatusOrder/@item.OrderId" class="@format">@status</a></td>
        </tr>
    }
</table>
